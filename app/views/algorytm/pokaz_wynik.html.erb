<!DOCTYPE html>
<html>
<head>
  <style>
    #mapa {
      height: 100%;
      width: 100%;
    }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #floating-panel {
      position: absolute;
      margin-top: 20px;
      left: 90%;
      z-index: 5;
      text-align: center;
      font-family: 'Roboto', 'sans-serif';
    }

    #przycisk {
      padding: 10px;
      background-color: #ffffff;
      font-size: 1.5rem;
      border-radius: 8px;
    }

  </style>
</head>
<body>

<div id="floating-panel">
  <input id="przycisk" onclick="pokazWszystkie();" type=button value="Wyczyść">
</div>
<div id="mapa"></div>

<script>

    var klucz = 'AIzaSyBpXvsFn3qL2eaMdpWQeW-o5DQoPpkngAI'
    var szukaj = 'https://maps.googleapis.com/maps/api/geocode/json?address='
    var lacznik = '+PL&key='
    var mapa;
    var polaczenia = {};
    var znaczniki = {};
    var x = 0;
    var miasta = [];
    var nazwa;
    var miasto;
    var linie = [];

    function initMap()
    {
        var srodek = {lat: 52, lng: 19};
        mapa = new google.maps.Map(document.getElementById('mapa'), {
            zoom: 7,
            center: srodek
        });


        $.getJSON('http://localhost:3000/algorytm/pobierz_wynik', function (podroz)
        {
            var plan_podrozy = [{lat: 52.2296756, lng:21.0122287}];

            for (var i in podroz)
            {
                var wspolrzedne = {lat: podroz[i]['lat'], lng: podroz[i]['lng']}
                plan_podrozy.push(wspolrzedne)
            }



            var trasa = new google.maps.Polyline({
                path: plan_podrozy,
                geodesic: true,
                strokeColor: '#118822',
                strokeOpacity: 1.0,
                strokeWeight: 2
            });

            trasa.setMap(mapa);




        });


    }
</script>


<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpXvsFn3qL2eaMdpWQeW-o5DQoPpkngAI&callback=initMap">
</script>

<script>
    initMap()
</script>

</body>
</html>
